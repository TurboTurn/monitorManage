<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.monitor.dao.alarm.AlarmDao">

  <resultMap id="BaseAlarm" type="com.monitor.pojo.Alarm">
  </resultMap>


  <select id="selectAll" resultMap="BaseAlarm">
        select * from alarm
    </select>

  <select id="selectById" resultMap="BaseAlarm">
        select *
        from alarm
        where id = #{id}
    </select>

  <insert id="insertAlarm" parameterType="com.monitor.pojo.Alarm" useGeneratedKeys="true"
          keyProperty="id" keyColumn="id">
        insert into alarm(tank,oil,height,pressure,temperature,username)
        values (#{tank},#{oil},#{height},#{pressure},#{temperature},#{username})
    </insert>

  <delete id="del" parameterType="java.lang.Integer">
        delete from alarm
        where id=#{id}
    </delete>


  <!--动态语句  待完成-->
  <update id="update" parameterType="com.monitor.pojo.Alarm" >
    update alarm
    <set >
      <if test=" != null" >
        id= #{id},
      </if>
      <if test="tank != null" >
        tank = #{tank},
      </if>
      <if test="oil != null" >
        oil = #{oil},
      </if>
      <if test="height != null" >
        height = #{height},
      </if>
      <if test="pressure != null" >
        pressure = #{pressure},
      </if>
      <if test="temperature != null" >
        temperature = #{temperature},
      </if>
    </set>
  </update>
</mapper>
